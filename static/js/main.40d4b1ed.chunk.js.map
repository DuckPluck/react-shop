{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","config.js","reducer.js","context.js","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","App.js","index.js"],"names":["Header","className","href","id","rel","target","Footer","Date","getFullYear","reducer","state","type","payload","goods","loading","isBasketShow","order","map","el","newQuantity","quantity","itemIndex","findIndex","orderItem","newOrder","newItem","index","alertName","name","filter","ShopContext","createContext","initialState","ContextProvider","children","useReducer","value","dispatch","closeAlert","removeFromBasket","itemId","addToBasket","item","incQuantity","decQuantity","handleBasketShow","setGoods","data","Provider","Preloader","GoodsItem","description","price","full_background","useContext","alt","src","onClick","GoodsList","length","Cart","BasketItem","BasketList","totalPrice","reduce","acc","Alert","useEffect","timerId","setTimeout","clearTimeout","Shop","fetch","headers","process","then","res","json","featured","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.40d4b1ed.chunk.js","sourcesContent":["import React from 'react';\n\nexport function Header() {\n  return (\n      <nav className=\"cyan accent-4 nav\">\n        <div className=\"nav-wrapper\">\n          <a href=\"#!\" className=\"brand-logo\">\n            React Shop\n          </a>\n          <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n            <li>\n              <a rel=\"noreferrer\" target=\"_blank\" href=\"https://github.com/DuckPluck/react-shop\">\n                Repo\n              </a>\n            </li>\n          </ul>\n        </div>\n      </nav>\n  );\n}\n","import React from 'react';\n\nexport function Footer() {\n  return (\n      <footer className=\"page-footer cyan accent-5\">\n        <div className=\"container\">\n          © {new Date().getFullYear()} Copyright Text\n          <a\n              className=\"grey-text text-lighten-4 right\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              href=\"https://github.com/DuckPluck/react-shop\">\n            Repo\n          </a>\n        </div>\n      </footer>\n  );\n}\n","export const API_KEY = process.env.REACT_APP_API_KEY;\n\nexport const API_URL = 'https://fortniteapi.io/v1/shop?lang=en';\n\n","export const reducer = (state, {type, payload}) => {\r\n  switch (type) {\r\n    case 'SET_GOODS':\r\n      return {\r\n        ...state,\r\n        goods: payload || [],\r\n        loading: false,\r\n      };\r\n    case 'TOGGLE_BASKET':\r\n      return {\r\n        ...state,\r\n        isBasketShow: !state.isBasketShow,\r\n      };\r\n    case 'INCREMENT_QUANTITY':\r\n      return {\r\n        ...state,\r\n        order: state.order.map((el) => {\r\n          if (el.id === payload.id) {\r\n            const newQuantity = el.quantity + 1;\r\n            return {\r\n              ...el,\r\n              quantity: newQuantity,\r\n            };\r\n          } else {\r\n            return el;\r\n          }\r\n        }),\r\n      };\r\n    case 'DECREMENT_QUANTITY':\r\n      return {\r\n        ...state,\r\n        order: state.order.map((el) => {\r\n          if (el.id === payload.id) {\r\n            const newQuantity = el.quantity - 1;\r\n            return {\r\n              ...el,\r\n              quantity: newQuantity,\r\n            };\r\n          } else {\r\n            return el;\r\n          }\r\n        }),\r\n      };\r\n    case 'ADD_TO_BASKET': {\r\n      const itemIndex = state.order.findIndex((orderItem) => orderItem.id === payload.id);\r\n\r\n      let newOrder = null;\r\n      if (itemIndex < 0) {\r\n        const newItem = {\r\n          ...payload,\r\n          quantity: 1,\r\n        };\r\n        newOrder = [...state.order, newItem];\r\n      } else {\r\n        newOrder = state.order.map((orderItem, index) => {\r\n          if (index === itemIndex) {\r\n            return {\r\n              ...orderItem,\r\n              quantity: orderItem.quantity + 1,\r\n            };\r\n          } else {\r\n            return orderItem;\r\n          }\r\n        });\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        order: newOrder,\r\n        alertName: payload.name,\r\n      };\r\n    }\r\n    case 'CLOSE_ALERT':\r\n      return {\r\n        ...state,\r\n        alertName: '',\r\n      };\r\n    case 'REMOVE_FROM_BASKET':\r\n      return {\r\n        ...state,\r\n        order: state.order.filter((el) => {\r\n          return el.id !== payload.id;\r\n        }),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import React, {createContext, useReducer} from 'react';\r\nimport {reducer} from './reducer';\r\n\r\nexport const ShopContext = createContext();\r\n\r\nconst initialState = {\r\n  goods: [],\r\n  loading: true,\r\n  order: [],\r\n  isBasketShow: false,\r\n  alertName: '',\r\n};\r\n\r\nexport const ContextProvider = ({children}) => {\r\n  const [value, dispatch] = useReducer(reducer, initialState);\r\n\r\n  value.closeAlert = () => {\r\n    dispatch({type: 'CLOSE_ALERT'});\r\n  };\r\n\r\n  value.removeFromBasket = (itemId) => {\r\n    dispatch({type: 'REMOVE_FROM_BASKET', payload: {id: itemId}});\r\n  };\r\n\r\n  value.addToBasket = (item) => {\r\n    dispatch({type: 'ADD_TO_BASKET', payload: item});\r\n  };\r\n\r\n  value.incQuantity = (id) => {\r\n    dispatch({type: 'INCREMENT_QUANTITY', payload: {id: id}});\r\n  };\r\n\r\n  value.decQuantity = (id) => {\r\n    dispatch({type: 'DECREMENT_QUANTITY', payload: {id: id}});\r\n  };\r\n\r\n  value.handleBasketShow = () => {\r\n    dispatch({type: 'TOGGLE_BASKET'});\r\n  };\r\n\r\n  value.setGoods = (data) => {\r\n    dispatch({type: 'SET_GOODS', payload: data});\r\n  };\r\n\r\n  return <ShopContext.Provider value={value}>{children}</ShopContext.Provider>;\r\n};","import React from 'react';\n\nexport function Preloader() {\n  return (\n      <div className=\"progress\">\n        <div className=\"indeterminate\"></div>\n      </div>\n  );\n}\n","import React, {useContext} from 'react';\n\nimport {ShopContext} from '../context';\n\nexport function GoodsItem({id, name, description, price, full_background}) {\n  const {addToBasket} = useContext(ShopContext);\n  return (\n      <div className=\"card\">\n        <div className=\"card-image\">\n          <img alt={name} src={full_background}/>\n        </div>\n        <div className=\"card-content\">\n          <span className=\"card-title\">{name}</span>\n          <p>{description}</p>\n        </div>\n        <div className=\"card-action\">\n          <button\n              onClick={() =>\n                  addToBasket({\n                    id,\n                    name,\n                    price,\n                  })\n              }\n              className=\"btn\">\n            Buy\n          </button>\n          <span className=\"right good-price\">{price} V-Bucks</span>\n        </div>\n      </div>\n  );\n}\n","import React, {useContext} from 'react';\nimport {ShopContext} from '../context';\nimport {GoodsItem} from './GoodsItem';\n\nexport function GoodsList() {\n  const {goods = []} = useContext(ShopContext);\n  if (!goods.length) {\n    return <h3>Nothing here</h3>;\n  }\n\n  return (\n      <div className=\"goods\">\n        {goods.map((el) => (\n            <GoodsItem key={el.id} {...el} />\n        ))}\n      </div>\n  );\n}\n","import React, {useContext} from 'react';\nimport {ShopContext} from '../context';\n\nexport function Cart() {\n  const {order = 0, handleBasketShow} = useContext(ShopContext);\n  const quantity = order.length;\n  return (\n      <div onClick={handleBasketShow} className=\"cart blue darken-3 white-text\">\n        <i className=\"material-icons\">shopping_cart</i>\n        {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\n      </div>\n  );\n}\n","import React, {useContext} from 'react';\nimport {ShopContext} from '../context';\n\nexport function BasketItem({id, name, price, quantity}) {\n  const {removeFromBasket, decQuantity, incQuantity} = useContext(ShopContext);\n  return (\n      <li className=\"collection-item\">\n        {name}{' '}\n        {quantity === 1 ? (\n            <i onClick={() => removeFromBasket(id)} className=\"material-icons basket-quantity\">\n              remove\n            </i>\n        ) : (\n            <i onClick={() => decQuantity(id)} className=\"material-icons basket-quantity\">\n              remove\n            </i>\n        )}{' '}\n        х{quantity}{' '}\n        <i onClick={() => incQuantity(id)} className=\"material-icons basket-quantity\">\n          add\n        </i>{' '}\n        = {price * quantity}\n        <span\n            onClick={() =>\n                incQuantity({\n                  id,\n                  name,\n                  price,\n                  quantity,\n                })\n            }>\n        {' '}\n          V-Bucks\n      </span>\n        <span onClick={() => removeFromBasket(id)} className=\"secondary-content\">\n        <i className=\"material-icons basket-delete\">close</i>\n      </span>\n      </li>\n  );\n}\n","import React, {useContext} from 'react';\nimport {ShopContext} from '../context';\n\nimport {BasketItem} from './BasketItem';\n\nexport function BasketList() {\n  const {handleBasketShow, order = []} = useContext(ShopContext);\n  const totalPrice = order.reduce((acc, el) => acc + el.price * el.quantity, 0);\n\n  return (\n      <ul className=\"collection basket-list\">\n        <li className=\"collection-item active\">Basket</li>\n        {order.length ? (\n            order.map((el) => <BasketItem key={el.id} {...el} />)\n        ) : (\n            <li className=\"collection-item\">Basket is empty</li>\n        )}\n        <li className=\"collection-item active\">Total cost: {totalPrice} V-BUCKS</li>\n        <i onClick={handleBasketShow} className=\"material-icons basket-close\">\n          close\n        </i>\n      </ul>\n  );\n}\n","import React, {useEffect, useContext} from 'react';\nimport {ShopContext} from '../context';\n\nexport function Alert() {\n  const {alertName = '', closeAlert} = useContext(ShopContext);\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 3000);\n\n    return () => {\n      clearTimeout(timerId);\n    };\n\n  }, [closeAlert]);\n  return (\n      <div id=\"toast-container\">\n        <div className=\"toast\">{alertName} added to basket</div>\n      </div>\n  );\n}\n","import React, {useEffect, useContext} from 'react';\nimport {API_KEY, API_URL} from '../config';\nimport {ShopContext} from '../context';\nimport {Preloader} from './Preloader';\nimport {GoodsList} from './GoodsList';\nimport {Cart} from './Cart';\nimport {BasketList} from './BasketList';\nimport {Alert} from './Alert';\n\n\n\nexport function Shop() {\n  const {setGoods, order, loading, alertName, isBasketShow} = useContext(ShopContext);\n\n  useEffect(function getGoods() {\n    fetch(API_URL, {\n      headers: {\n        'Authorization': API_KEY,\n      },\n    })\n        .then((res) => res.json())\n        .then((data) => {\n          setGoods(data.featured);\n        });\n  }, [setGoods]);\n\n  return (\n      <main className=\"container content\">\n        <Cart quantity={order.length}/>\n        {loading ? <Preloader/> : <GoodsList/>}\n        {isBasketShow && <BasketList/>}\n        {alertName && <Alert/>}\n      </main>\n  );\n}\n","import {Header} from './components/Header';\nimport {Footer} from './components/Footer';\nimport {Shop} from './components/Shop';\nimport {ContextProvider} from './context';\n\nfunction App() {\n  return (\n      <>\n        <Header/>\n        <ContextProvider>\n          <Shop/>\n        </ContextProvider>\n        <Footer/>\n      </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n      <App/>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}